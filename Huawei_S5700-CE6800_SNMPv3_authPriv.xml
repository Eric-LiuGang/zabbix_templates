<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>3.2</version>
    <date>2018-09-13T07:17:04Z</date>
    <groups>
        <group>
            <name>Templates-SNMPv3</name>
        </group>
    </groups>
    <templates>
        <template>
            <template>Huawei_S5700-CE6800_SNMPv3_authPriv</template>
            <name>Huawei_S5700-CE6800_SNMPv3_authPriv</name>
            <description>This template has hardcoded values for SNMPv3 authPriv settings. In case you want to use this template without any modification, then you should create an snmp user with SHA authpass and AES privpass on your switches. Huawei switch CLI commands to accomplish this:&#13;
&#13;
&lt;LOGIN via SSH&gt;&#13;
system-view&#13;
snmp-agent&#13;
snmp-agent udp-port 161&#13;
snmp-agent sys-info version v3&#13;
snmp-agent sys-info location &lt;yourlocation&gt;&#13;
snmp-agent sys-info contact &lt;yourcontact&gt;&#13;
snmp-agent group v3 monitoring privacy&#13;
snmp-agent usm-user v3 zabbix group monitoring&#13;
snmp-agent usm-user v3 zabbix authentication-mode sha&#13;
&lt;random_auth_pass&gt;&#13;
&lt;random_auth_pass&gt;&#13;
&#13;
snmp-agent usm-user v3 zabbix privacy-mode aes128&#13;
&lt;random_priv_pass&gt;&#13;
&lt;random_priv_pass&gt;&#13;
&#13;
return&#13;
save&#13;
&lt;EXIT&gt;&#13;
&#13;
#####################&#13;
Required Value Mappings:&#13;
&#13;
hwStackIsStackDevice&#13;
1 - Stacked (multiple switches)&#13;
2 - Standalone switch&#13;
&#13;
hwStackPortStatus&#13;
1 - UP&#13;
2 - DOWN&#13;
&#13;
hwEntityFanState&#13;
1 - normal&#13;
2 - abnormal&#13;
&#13;
##############################&#13;
MACROS to be defined for each host:&#13;
- {$SNMP_USERNAME}&#13;
- {$SNMP_AUTHPASS}&#13;
- {$SNMP_PRIVPASS}&#13;
- {$SNMP_PORTNUM}&#13;
- {$TEMP_WARN} : Temperature warning value&#13;
- {$TEMP_CRIT} : Temperature critical value&#13;
&#13;
Created by Tibor Volanszki&#13;
Updated on: 2018/09/13</description>
            <groups>
                <group>
                    <name>Templates-SNMPv3</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>CPU</name>
                </application>
                <application>
                    <name>Device Info</name>
                </application>
                <application>
                    <name>Environment</name>
                </application>
                <application>
                    <name>Fan</name>
                </application>
                <application>
                    <name>Memory</name>
                </application>
                <application>
                    <name>Stack</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Switch configuration (stacked or standalone)</name>
                    <type>6</type>
                    <snmp_community/>
                    <multiplier>0</multiplier>
                    <snmp_oid>1.3.6.1.4.1.2011.5.25.183.1.5.0</snmp_oid>
                    <key>hwStackIsStackDevice</key>
                    <delay>43200</delay>
                    <history>90</history>
                    <trends>365</trends>
                    <status>0</status>
                    <value_type>3</value_type>
                    <allowed_hosts/>
                    <units/>
                    <delta>0</delta>
                    <snmpv3_contextname/>
                    <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                    <snmpv3_securitylevel>2</snmpv3_securitylevel>
                    <snmpv3_authprotocol>1</snmpv3_authprotocol>
                    <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                    <snmpv3_privprotocol>1</snmpv3_privprotocol>
                    <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                    <formula>1</formula>
                    <delay_flex/>
                    <params/>
                    <ipmi_sensor/>
                    <data_type>0</data_type>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port>{$SNMP_PORTNUM}</port>
                    <description/>
                    <inventory_link>0</inventory_link>
                    <applications>
                        <application>
                            <name>Stack</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>hwStackIsStackDevice</name>
                    </valuemap>
                    <logtimefmt/>
                </item>
                <item>
                    <name>System Contact</name>
                    <type>6</type>
                    <snmp_community/>
                    <multiplier>0</multiplier>
                    <snmp_oid>1.3.6.1.2.1.1.4.0</snmp_oid>
                    <key>sysContact</key>
                    <delay>60</delay>
                    <history>90</history>
                    <trends>0</trends>
                    <status>0</status>
                    <value_type>1</value_type>
                    <allowed_hosts/>
                    <units/>
                    <delta>0</delta>
                    <snmpv3_contextname/>
                    <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                    <snmpv3_securitylevel>2</snmpv3_securitylevel>
                    <snmpv3_authprotocol>1</snmpv3_authprotocol>
                    <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                    <snmpv3_privprotocol>1</snmpv3_privprotocol>
                    <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                    <formula>1</formula>
                    <delay_flex/>
                    <params/>
                    <ipmi_sensor/>
                    <data_type>0</data_type>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port>{$SNMP_PORTNUM}</port>
                    <description/>
                    <inventory_link>23</inventory_link>
                    <applications>
                        <application>
                            <name>Device Info</name>
                        </application>
                    </applications>
                    <valuemap/>
                    <logtimefmt/>
                </item>
                <item>
                    <name>System Full Description</name>
                    <type>6</type>
                    <snmp_community/>
                    <multiplier>0</multiplier>
                    <snmp_oid>1.3.6.1.2.1.1.1.0</snmp_oid>
                    <key>sysDescr</key>
                    <delay>60</delay>
                    <history>90</history>
                    <trends>0</trends>
                    <status>0</status>
                    <value_type>1</value_type>
                    <allowed_hosts/>
                    <units/>
                    <delta>0</delta>
                    <snmpv3_contextname/>
                    <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                    <snmpv3_securitylevel>2</snmpv3_securitylevel>
                    <snmpv3_authprotocol>1</snmpv3_authprotocol>
                    <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                    <snmpv3_privprotocol>1</snmpv3_privprotocol>
                    <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                    <formula>1</formula>
                    <delay_flex/>
                    <params/>
                    <ipmi_sensor/>
                    <data_type>0</data_type>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port>{$SNMP_PORTNUM}</port>
                    <description/>
                    <inventory_link>2</inventory_link>
                    <applications>
                        <application>
                            <name>Device Info</name>
                        </application>
                    </applications>
                    <valuemap/>
                    <logtimefmt/>
                </item>
                <item>
                    <name>System Location</name>
                    <type>6</type>
                    <snmp_community/>
                    <multiplier>0</multiplier>
                    <snmp_oid>1.3.6.1.2.1.1.6.0</snmp_oid>
                    <key>sysLocation</key>
                    <delay>60</delay>
                    <history>90</history>
                    <trends>0</trends>
                    <status>0</status>
                    <value_type>1</value_type>
                    <allowed_hosts/>
                    <units/>
                    <delta>0</delta>
                    <snmpv3_contextname/>
                    <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                    <snmpv3_securitylevel>2</snmpv3_securitylevel>
                    <snmpv3_authprotocol>1</snmpv3_authprotocol>
                    <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                    <snmpv3_privprotocol>1</snmpv3_privprotocol>
                    <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                    <formula>1</formula>
                    <delay_flex/>
                    <params/>
                    <ipmi_sensor/>
                    <data_type>0</data_type>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port>{$SNMP_PORTNUM}</port>
                    <description/>
                    <inventory_link>24</inventory_link>
                    <applications>
                        <application>
                            <name>Device Info</name>
                        </application>
                    </applications>
                    <valuemap/>
                    <logtimefmt/>
                </item>
                <item>
                    <name>System Name</name>
                    <type>6</type>
                    <snmp_community/>
                    <multiplier>0</multiplier>
                    <snmp_oid>1.3.6.1.2.1.1.5.0</snmp_oid>
                    <key>sysName</key>
                    <delay>60</delay>
                    <history>90</history>
                    <trends>0</trends>
                    <status>0</status>
                    <value_type>1</value_type>
                    <allowed_hosts/>
                    <units/>
                    <delta>0</delta>
                    <snmpv3_contextname/>
                    <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                    <snmpv3_securitylevel>2</snmpv3_securitylevel>
                    <snmpv3_authprotocol>1</snmpv3_authprotocol>
                    <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                    <snmpv3_privprotocol>1</snmpv3_privprotocol>
                    <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                    <formula>1</formula>
                    <delay_flex/>
                    <params/>
                    <ipmi_sensor/>
                    <data_type>0</data_type>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port>{$SNMP_PORTNUM}</port>
                    <description/>
                    <inventory_link>3</inventory_link>
                    <applications>
                        <application>
                            <name>Device Info</name>
                        </application>
                    </applications>
                    <valuemap/>
                    <logtimefmt/>
                </item>
                <item>
                    <name>System Uptime</name>
                    <type>6</type>
                    <snmp_community/>
                    <multiplier>1</multiplier>
                    <snmp_oid>1.3.6.1.2.1.1.3.0</snmp_oid>
                    <key>sysUpTime</key>
                    <delay>60</delay>
                    <history>90</history>
                    <trends>365</trends>
                    <status>0</status>
                    <value_type>3</value_type>
                    <allowed_hosts/>
                    <units>uptime</units>
                    <delta>0</delta>
                    <snmpv3_contextname/>
                    <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                    <snmpv3_securitylevel>2</snmpv3_securitylevel>
                    <snmpv3_authprotocol>1</snmpv3_authprotocol>
                    <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                    <snmpv3_privprotocol>1</snmpv3_privprotocol>
                    <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                    <formula>0.01</formula>
                    <delay_flex/>
                    <params/>
                    <ipmi_sensor/>
                    <data_type>0</data_type>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port>{$SNMP_PORTNUM}</port>
                    <description/>
                    <inventory_link>0</inventory_link>
                    <applications>
                        <application>
                            <name>Device Info</name>
                        </application>
                    </applications>
                    <valuemap/>
                    <logtimefmt/>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <name>Discovery: Device info</name>
                    <type>6</type>
                    <snmp_community/>
                    <snmp_oid>discovery[{#SNMPVALUE}, 1.3.6.1.2.1.47.1.1.1.1.8]</snmp_oid>
                    <key>entPhysicalRev</key>
                    <delay>60</delay>
                    <status>0</status>
                    <allowed_hosts/>
                    <snmpv3_contextname/>
                    <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                    <snmpv3_securitylevel>2</snmpv3_securitylevel>
                    <snmpv3_authprotocol>1</snmpv3_authprotocol>
                    <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                    <snmpv3_privprotocol>1</snmpv3_privprotocol>
                    <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                    <delay_flex/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port>{$SNMP_PORTNUM}</port>
                    <filter>
                        <evaltype>0</evaltype>
                        <formula/>
                        <conditions>
                            <condition>
                                <macro>{#SNMPVALUE}</macro>
                                <value>\S</value>
                                <operator>8</operator>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <lifetime>30</lifetime>
                    <description/>
                    <item_prototypes>
                        <item_prototype>
                            <name>Unit-[$1] Firmware Version</name>
                            <type>6</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid>1.3.6.1.2.1.47.1.1.1.1.9.{#SNMPINDEX}</snmp_oid>
                            <key>entPhysicalFirmwareRev[{#SNMPINDEX}]</key>
                            <delay>43200</delay>
                            <history>90</history>
                            <trends>0</trends>
                            <status>0</status>
                            <value_type>1</value_type>
                            <allowed_hosts/>
                            <units/>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>2</snmpv3_securitylevel>
                            <snmpv3_authprotocol>1</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>1</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port>{$SNMP_PORTNUM}</port>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Device Info</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <application_prototypes/>
                        </item_prototype>
                        <item_prototype>
                            <name>Unit-[$1] Hardware Version</name>
                            <type>6</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid>1.3.6.1.2.1.47.1.1.1.1.8.{#SNMPINDEX}</snmp_oid>
                            <key>entPhysicalHardwareRev[{#SNMPINDEX}]</key>
                            <delay>43200</delay>
                            <history>90</history>
                            <trends>0</trends>
                            <status>0</status>
                            <value_type>1</value_type>
                            <allowed_hosts/>
                            <units/>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>2</snmpv3_securitylevel>
                            <snmpv3_authprotocol>1</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>1</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port>{$SNMP_PORTNUM}</port>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Device Info</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <application_prototypes/>
                        </item_prototype>
                        <item_prototype>
                            <name>Unit-[$1] Serial Number</name>
                            <type>6</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid>1.3.6.1.2.1.47.1.1.1.1.11.{#SNMPINDEX}</snmp_oid>
                            <key>entPhysicalSerialNum[{#SNMPINDEX}]</key>
                            <delay>43200</delay>
                            <history>90</history>
                            <trends>0</trends>
                            <status>0</status>
                            <value_type>1</value_type>
                            <allowed_hosts/>
                            <units/>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>2</snmpv3_securitylevel>
                            <snmpv3_authprotocol>1</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>1</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port>{$SNMP_PORTNUM}</port>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Device Info</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <application_prototypes/>
                        </item_prototype>
                        <item_prototype>
                            <name>Unit-[$1] Software Version</name>
                            <type>6</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid>1.3.6.1.2.1.47.1.1.1.1.10.{#SNMPINDEX}</snmp_oid>
                            <key>entPhysicalSoftwareRev[{#SNMPINDEX}]</key>
                            <delay>43200</delay>
                            <history>90</history>
                            <trends>0</trends>
                            <status>0</status>
                            <value_type>1</value_type>
                            <allowed_hosts/>
                            <units/>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>2</snmpv3_securitylevel>
                            <snmpv3_authprotocol>1</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>1</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port>{$SNMP_PORTNUM}</port>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Device Info</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <application_prototypes/>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes/>
                    <graph_prototypes/>
                    <host_prototypes/>
                </discovery_rule>
                <discovery_rule>
                    <name>Discovery: CPU Usage</name>
                    <type>6</type>
                    <snmp_community/>
                    <snmp_oid>discovery[{#SNMPVALUE}, 1.3.6.1.4.1.2011.6.3.4.1.3]</snmp_oid>
                    <key>hwAvgDuty</key>
                    <delay>60</delay>
                    <status>0</status>
                    <allowed_hosts/>
                    <snmpv3_contextname/>
                    <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                    <snmpv3_securitylevel>2</snmpv3_securitylevel>
                    <snmpv3_authprotocol>1</snmpv3_authprotocol>
                    <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                    <snmpv3_privprotocol>1</snmpv3_privprotocol>
                    <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                    <delay_flex/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port>{$SNMP_PORTNUM}</port>
                    <filter>
                        <evaltype>0</evaltype>
                        <formula/>
                        <conditions/>
                    </filter>
                    <lifetime>30</lifetime>
                    <description/>
                    <item_prototypes>
                        <item_prototype>
                            <name>Unit-[$1] CPU Usage in 1 min</name>
                            <type>6</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid>1.3.6.1.4.1.2011.6.3.4.1.3.{#SNMPINDEX}</snmp_oid>
                            <key>hwAvgDuty1min[{#SNMPINDEX}]</key>
                            <delay>60</delay>
                            <history>90</history>
                            <trends>365</trends>
                            <status>0</status>
                            <value_type>3</value_type>
                            <allowed_hosts/>
                            <units>%</units>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>2</snmpv3_securitylevel>
                            <snmpv3_authprotocol>1</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>1</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port>{$SNMP_PORTNUM}</port>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>CPU</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <application_prototypes/>
                        </item_prototype>
                        <item_prototype>
                            <name>Unit-[$1] CPU Usage in 5 min</name>
                            <type>6</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid>1.3.6.1.4.1.2011.6.3.4.1.4.{#SNMPINDEX}</snmp_oid>
                            <key>hwAvgDuty5min[{#SNMPINDEX}]</key>
                            <delay>60</delay>
                            <history>90</history>
                            <trends>365</trends>
                            <status>0</status>
                            <value_type>3</value_type>
                            <allowed_hosts/>
                            <units>%</units>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>2</snmpv3_securitylevel>
                            <snmpv3_authprotocol>1</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>1</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port>{$SNMP_PORTNUM}</port>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>CPU</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <application_prototypes/>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes>
                        <trigger_prototype>
                            <expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:hwAvgDuty5min[{#SNMPINDEX}].min(5m)}&gt;=60</expression>
                            <recovery_mode>1</recovery_mode>
                            <recovery_expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:hwAvgDuty5min[{#SNMPINDEX}].min(5m)}&lt;60</recovery_expression>
                            <name>Unit-[{#SNMPINDEX}] CPU usage is above 60% for 5min</name>
                            <correlation_mode>0</correlation_mode>
                            <correlation_tag/>
                            <url/>
                            <status>0</status>
                            <priority>2</priority>
                            <description/>
                            <type>0</type>
                            <manual_close>1</manual_close>
                            <dependencies/>
                            <tags/>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:hwAvgDuty5min[{#SNMPINDEX}].min(5m)}&gt;=80</expression>
                            <recovery_mode>1</recovery_mode>
                            <recovery_expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:hwAvgDuty5min[{#SNMPINDEX}].min(5m)}&lt;80</recovery_expression>
                            <name>Unit-[{#SNMPINDEX}] CPU usage is above 80% for 5min</name>
                            <correlation_mode>0</correlation_mode>
                            <correlation_tag/>
                            <url/>
                            <status>0</status>
                            <priority>4</priority>
                            <description/>
                            <type>0</type>
                            <manual_close>1</manual_close>
                            <dependencies/>
                            <tags/>
                        </trigger_prototype>
                    </trigger_prototypes>
                    <graph_prototypes/>
                    <host_prototypes/>
                </discovery_rule>
                <discovery_rule>
                    <name>Discovery: Fan</name>
                    <type>6</type>
                    <snmp_community/>
                    <snmp_oid>discovery[{#SNMPVALUE}, 1.3.6.1.4.1.2011.5.25.31.1.1.10.1.1]</snmp_oid>
                    <key>hwEntityFan</key>
                    <delay>60</delay>
                    <status>0</status>
                    <allowed_hosts/>
                    <snmpv3_contextname/>
                    <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                    <snmpv3_securitylevel>2</snmpv3_securitylevel>
                    <snmpv3_authprotocol>1</snmpv3_authprotocol>
                    <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                    <snmpv3_privprotocol>1</snmpv3_privprotocol>
                    <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                    <delay_flex/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port>{$SNMP_PORTNUM}</port>
                    <filter>
                        <evaltype>0</evaltype>
                        <formula/>
                        <conditions/>
                    </filter>
                    <lifetime>60</lifetime>
                    <description/>
                    <item_prototypes>
                        <item_prototype>
                            <name>Fan module [{#SNMPINDEX}] speed (%)</name>
                            <type>6</type>
                            <snmp_community/>
                            <multiplier>1</multiplier>
                            <snmp_oid>1.3.6.1.4.1.2011.5.25.31.1.1.10.1.5.{#SNMPINDEX}</snmp_oid>
                            <key>hwEntityFanSpeed[{#SNMPINDEX}]</key>
                            <delay>60</delay>
                            <history>90</history>
                            <trends>365</trends>
                            <status>0</status>
                            <value_type>3</value_type>
                            <allowed_hosts/>
                            <units>%</units>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>2</snmpv3_securitylevel>
                            <snmpv3_authprotocol>1</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>1</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port>{$SNMP_PORTNUM}</port>
                            <description>The value of this object identifies the fan rotational speed. The value is a specific percentage of the full speed.</description>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Fan</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <application_prototypes/>
                        </item_prototype>
                        <item_prototype>
                            <name>Fan module [{#SNMPINDEX}] state</name>
                            <type>6</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid>1.3.6.1.4.1.2011.5.25.31.1.1.10.1.7.{#SNMPINDEX}</snmp_oid>
                            <key>hwEntityFanState[{#SNMPINDEX}]</key>
                            <delay>300</delay>
                            <history>90</history>
                            <trends>365</trends>
                            <status>0</status>
                            <value_type>3</value_type>
                            <allowed_hosts/>
                            <units/>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>2</snmpv3_securitylevel>
                            <snmpv3_authprotocol>1</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>1</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port>{$SNMP_PORTNUM}</port>
                            <description>The object indicates the fan state.	INTEGER{normal(1),abnormal(2)}</description>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Fan</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>hwEntityFanState</name>
                            </valuemap>
                            <logtimefmt/>
                            <application_prototypes/>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes>
                        <trigger_prototype>
                            <expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:hwEntityFanSpeed[{#SNMPINDEX}].min(5m)}&gt;=80</expression>
                            <recovery_mode>1</recovery_mode>
                            <recovery_expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:hwEntityFanSpeed[{#SNMPINDEX}].min(5m)}&lt;80</recovery_expression>
                            <name>Fan module [{#SNMPINDEX}] speed is above 80% (Possible high temperature!)</name>
                            <correlation_mode>0</correlation_mode>
                            <correlation_tag/>
                            <url/>
                            <status>0</status>
                            <priority>2</priority>
                            <description/>
                            <type>0</type>
                            <manual_close>1</manual_close>
                            <dependencies/>
                            <tags/>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:hwEntityFanState[{#SNMPINDEX}].last()}&lt;&gt;1</expression>
                            <recovery_mode>1</recovery_mode>
                            <recovery_expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:hwEntityFanState[{#SNMPINDEX}].last()}=1</recovery_expression>
                            <name>Fan module [{#SNMPINDEX}] state is ABNORMAL</name>
                            <correlation_mode>0</correlation_mode>
                            <correlation_tag/>
                            <url/>
                            <status>0</status>
                            <priority>2</priority>
                            <description>INTEGER{normal(1),abnormal(2)}</description>
                            <type>0</type>
                            <manual_close>1</manual_close>
                            <dependencies/>
                            <tags/>
                        </trigger_prototype>
                    </trigger_prototypes>
                    <graph_prototypes/>
                    <host_prototypes/>
                </discovery_rule>
                <discovery_rule>
                    <name>Discovery: Temperature</name>
                    <type>6</type>
                    <snmp_community/>
                    <snmp_oid>discovery[{#SNMPVALUE}, 1.3.6.1.4.1.2011.5.25.31.1.1.1.1.11]</snmp_oid>
                    <key>hwEntityTemperature</key>
                    <delay>60</delay>
                    <status>0</status>
                    <allowed_hosts/>
                    <snmpv3_contextname/>
                    <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                    <snmpv3_securitylevel>2</snmpv3_securitylevel>
                    <snmpv3_authprotocol>1</snmpv3_authprotocol>
                    <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                    <snmpv3_privprotocol>1</snmpv3_privprotocol>
                    <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                    <delay_flex/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port>{$SNMP_PORTNUM}</port>
                    <filter>
                        <evaltype>0</evaltype>
                        <formula/>
                        <conditions>
                            <condition>
                                <macro>{#SNMPVALUE}</macro>
                                <value>[1-9]{1}[0-9]{0,}</value>
                                <operator>8</operator>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <lifetime>30</lifetime>
                    <description/>
                    <item_prototypes>
                        <item_prototype>
                            <name>Unit-[$1] Temperature</name>
                            <type>6</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.1.1.11.{#SNMPINDEX}</snmp_oid>
                            <key>hwEntityTemperature[{#SNMPINDEX}]</key>
                            <delay>60</delay>
                            <history>90</history>
                            <trends>365</trends>
                            <status>0</status>
                            <value_type>3</value_type>
                            <allowed_hosts/>
                            <units/>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>2</snmpv3_securitylevel>
                            <snmpv3_authprotocol>1</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>1</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port>{$SNMP_PORTNUM}</port>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Environment</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <application_prototypes/>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes>
                        <trigger_prototype>
                            <expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:hwEntityTemperature[{#SNMPINDEX}].min(5m)}&gt;={$TEMP_CRIT}</expression>
                            <recovery_mode>1</recovery_mode>
                            <recovery_expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:hwEntityTemperature[{#SNMPINDEX}].min(5m)}&lt;{$TEMP_CRIT}</recovery_expression>
                            <name>Unit-[{#SNMPINDEX}] Temperature ALERT</name>
                            <correlation_mode>0</correlation_mode>
                            <correlation_tag/>
                            <url/>
                            <status>0</status>
                            <priority>4</priority>
                            <description>The following thresholds are defined by the Vendor:&#13;
- Huawei S5700 = 65&#13;
- Huawei CE6810 = 50&#13;
&#13;
hwEntityTemperatureThreshold&#13;
(1.3.6.1.4.1.2011.5.25.31.1.1.1.1.12)</description>
                            <type>0</type>
                            <manual_close>1</manual_close>
                            <dependencies/>
                            <tags/>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:hwEntityTemperature[{#SNMPINDEX}].min(5m)}&gt;={$TEMP_WARN}</expression>
                            <recovery_mode>1</recovery_mode>
                            <recovery_expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:hwEntityTemperature[{#SNMPINDEX}].min(5m)}&lt;{$TEMP_WARN}</recovery_expression>
                            <name>Unit-[{#SNMPINDEX}] Temperature WARNING</name>
                            <correlation_mode>0</correlation_mode>
                            <correlation_tag/>
                            <url/>
                            <status>0</status>
                            <priority>2</priority>
                            <description>The following thresholds are defined by the Vendor:&#13;
- Huawei S5700 = 65&#13;
- Huawei CE6810 = 50&#13;
&#13;
hwEntityTemperatureThreshold&#13;
(1.3.6.1.4.1.2011.5.25.31.1.1.1.1.12)</description>
                            <type>0</type>
                            <manual_close>1</manual_close>
                            <dependencies/>
                            <tags/>
                        </trigger_prototype>
                    </trigger_prototypes>
                    <graph_prototypes/>
                    <host_prototypes/>
                </discovery_rule>
                <discovery_rule>
                    <name>Discovery: Stack member device type</name>
                    <type>6</type>
                    <snmp_community/>
                    <snmp_oid>discovery[{#SNMPVALUE}, 1.3.6.1.4.1.2011.5.25.183.1.20.1.5]</snmp_oid>
                    <key>hwMemberStackDeviceType</key>
                    <delay>60</delay>
                    <status>0</status>
                    <allowed_hosts/>
                    <snmpv3_contextname/>
                    <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                    <snmpv3_securitylevel>2</snmpv3_securitylevel>
                    <snmpv3_authprotocol>1</snmpv3_authprotocol>
                    <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                    <snmpv3_privprotocol>1</snmpv3_privprotocol>
                    <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                    <delay_flex/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port>{$SNMP_PORTNUM}</port>
                    <filter>
                        <evaltype>0</evaltype>
                        <formula/>
                        <conditions>
                            <condition>
                                <macro>{#SNMPVALUE}</macro>
                                <value>\S</value>
                                <operator>8</operator>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <lifetime>30</lifetime>
                    <description/>
                    <item_prototypes>
                        <item_prototype>
                            <name>Unit-[$1] Switch type</name>
                            <type>6</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid>1.3.6.1.4.1.2011.5.25.183.1.20.1.5.{#SNMPINDEX}</snmp_oid>
                            <key>hwMemberStackDeviceType[{#SNMPINDEX}]</key>
                            <delay>43200</delay>
                            <history>90</history>
                            <trends>0</trends>
                            <status>0</status>
                            <value_type>1</value_type>
                            <allowed_hosts/>
                            <units/>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>2</snmpv3_securitylevel>
                            <snmpv3_authprotocol>1</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>1</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port>{$SNMP_PORTNUM}</port>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Stack</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <application_prototypes/>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes/>
                    <graph_prototypes/>
                    <host_prototypes/>
                </discovery_rule>
                <discovery_rule>
                    <name>Discovery: Memory</name>
                    <type>6</type>
                    <snmp_community/>
                    <snmp_oid>discovery[{#SNMPVALUE}, 1.3.6.1.4.1.2011.6.3.5.1.1.2]</snmp_oid>
                    <key>hwMemoryDev</key>
                    <delay>60</delay>
                    <status>0</status>
                    <allowed_hosts/>
                    <snmpv3_contextname/>
                    <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                    <snmpv3_securitylevel>2</snmpv3_securitylevel>
                    <snmpv3_authprotocol>1</snmpv3_authprotocol>
                    <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                    <snmpv3_privprotocol>1</snmpv3_privprotocol>
                    <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                    <delay_flex/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port>{$SNMP_PORTNUM}</port>
                    <filter>
                        <evaltype>0</evaltype>
                        <formula/>
                        <conditions>
                            <condition>
                                <macro>{#SNMPVALUE}</macro>
                                <value>[1-9]{1}[0-9]{0,}</value>
                                <operator>8</operator>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <lifetime>30</lifetime>
                    <description/>
                    <item_prototypes>
                        <item_prototype>
                            <name>Unit-[$1] Memory allocation failures due to no idle memory</name>
                            <type>6</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid>1.3.6.1.4.1.2011.6.3.5.1.1.7.{#SNMPINDEX}</snmp_oid>
                            <key>hwMemoryDevFailNoMem[{#SNMPINDEX}]</key>
                            <delay>60</delay>
                            <history>90</history>
                            <trends>365</trends>
                            <status>0</status>
                            <value_type>3</value_type>
                            <allowed_hosts/>
                            <units/>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>2</snmpv3_securitylevel>
                            <snmpv3_authprotocol>1</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>1</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port>{$SNMP_PORTNUM}</port>
                            <description>Count of memory allocation failures due to no idle memory. The default value is 0.</description>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Memory</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <application_prototypes/>
                        </item_prototype>
                        <item_prototype>
                            <name>Unit-[$1] Memory allocation failure count</name>
                            <type>6</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid>1.3.6.1.4.1.2011.6.3.5.1.1.6.{#SNMPINDEX}</snmp_oid>
                            <key>hwMemoryDevFail[{#SNMPINDEX}]</key>
                            <delay>60</delay>
                            <history>90</history>
                            <trends>365</trends>
                            <status>0</status>
                            <value_type>3</value_type>
                            <allowed_hosts/>
                            <units/>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>2</snmpv3_securitylevel>
                            <snmpv3_authprotocol>1</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>1</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port>{$SNMP_PORTNUM}</port>
                            <description>Count of memory allocation failures. The default value is 0.</description>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Memory</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <application_prototypes/>
                        </item_prototype>
                        <item_prototype>
                            <name>Unit-[$1] Memory Free</name>
                            <type>6</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid>1.3.6.1.4.1.2011.6.3.5.1.1.3.{#SNMPINDEX}</snmp_oid>
                            <key>hwMemoryDevFree[{#SNMPINDEX}]</key>
                            <delay>60</delay>
                            <history>90</history>
                            <trends>365</trends>
                            <status>0</status>
                            <value_type>0</value_type>
                            <allowed_hosts/>
                            <units>B</units>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>2</snmpv3_securitylevel>
                            <snmpv3_authprotocol>1</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>1</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port>{$SNMP_PORTNUM}</port>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Memory</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <application_prototypes/>
                        </item_prototype>
                        <item_prototype>
                            <name>Unit-[$1] Memory Used</name>
                            <type>6</type>
                            <snmp_community/>
                            <multiplier>1</multiplier>
                            <snmp_oid>1.3.6.1.4.1.2011.6.3.5.1.1.4.{#SNMPINDEX}</snmp_oid>
                            <key>hwMemoryDevRawSliceUsed[{#SNMPINDEX}]</key>
                            <delay>60</delay>
                            <history>90</history>
                            <trends>365</trends>
                            <status>0</status>
                            <value_type>0</value_type>
                            <allowed_hosts/>
                            <units>B</units>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>2</snmpv3_securitylevel>
                            <snmpv3_authprotocol>1</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>1</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port>{$SNMP_PORTNUM}</port>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Memory</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <application_prototypes/>
                        </item_prototype>
                        <item_prototype>
                            <name>Unit-[$1] Memory Total Size</name>
                            <type>6</type>
                            <snmp_community/>
                            <multiplier>1</multiplier>
                            <snmp_oid>1.3.6.1.4.1.2011.6.3.5.1.1.2.{#SNMPINDEX}</snmp_oid>
                            <key>hwMemoryDevSize[{#SNMPINDEX}]</key>
                            <delay>60</delay>
                            <history>90</history>
                            <trends>365</trends>
                            <status>0</status>
                            <value_type>0</value_type>
                            <allowed_hosts/>
                            <units>B</units>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>2</snmpv3_securitylevel>
                            <snmpv3_authprotocol>1</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>1</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port>{$SNMP_PORTNUM}</port>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Memory</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <application_prototypes/>
                        </item_prototype>
                        <item_prototype>
                            <name>Unit-[{#SNMPINDEX}] Memory Free (%)</name>
                            <type>15</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid/>
                            <key>memFreePercentage[{#SNMPINDEX}]</key>
                            <delay>60</delay>
                            <history>90</history>
                            <trends>365</trends>
                            <status>0</status>
                            <value_type>0</value_type>
                            <allowed_hosts/>
                            <units>%</units>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <formula>1</formula>
                            <delay_flex/>
                            <params>last(&quot;hwMemoryDevFree[{#SNMPINDEX}]&quot;)/last(&quot;hwMemoryDevSize[{#SNMPINDEX}]&quot;)*100</params>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Memory</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <application_prototypes/>
                        </item_prototype>
                        <item_prototype>
                            <name>Unit-[{#SNMPINDEX}] Memory Used (%)</name>
                            <type>15</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid/>
                            <key>memUsedPercentage[{#SNMPINDEX}]</key>
                            <delay>60</delay>
                            <history>90</history>
                            <trends>365</trends>
                            <status>0</status>
                            <value_type>0</value_type>
                            <allowed_hosts/>
                            <units>%</units>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <formula>1</formula>
                            <delay_flex/>
                            <params>last(&quot;hwMemoryDevRawSliceUsed[{#SNMPINDEX}]&quot;)/last(&quot;hwMemoryDevSize[{#SNMPINDEX}]&quot;)*100</params>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Memory</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <application_prototypes/>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes>
                        <trigger_prototype>
                            <expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:memFreePercentage[{#SNMPINDEX}].min(5m)}&lt;=40</expression>
                            <recovery_mode>1</recovery_mode>
                            <recovery_expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:memFreePercentage[{#SNMPINDEX}].min(5m)}&gt;40</recovery_expression>
                            <name>Unit-[{#SNMPINDEX}] Available memory was below 60% for 5min</name>
                            <correlation_mode>0</correlation_mode>
                            <correlation_tag/>
                            <url/>
                            <status>0</status>
                            <priority>2</priority>
                            <description/>
                            <type>0</type>
                            <manual_close>1</manual_close>
                            <dependencies/>
                            <tags/>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:memFreePercentage[{#SNMPINDEX}].min(5m)}&lt;=20</expression>
                            <recovery_mode>1</recovery_mode>
                            <recovery_expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:memFreePercentage[{#SNMPINDEX}].min(5m)}&gt;20</recovery_expression>
                            <name>Unit-[{#SNMPINDEX}] Available memory was below 80% for 5min</name>
                            <correlation_mode>0</correlation_mode>
                            <correlation_tag/>
                            <url/>
                            <status>0</status>
                            <priority>4</priority>
                            <description/>
                            <type>0</type>
                            <manual_close>1</manual_close>
                            <dependencies/>
                            <tags/>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:memUsedPercentage[{#SNMPINDEX}].min(5m)}&gt;=60</expression>
                            <recovery_mode>1</recovery_mode>
                            <recovery_expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:memUsedPercentage[{#SNMPINDEX}].min(5m)}&lt;60</recovery_expression>
                            <name>Unit-[{#SNMPINDEX}] Memory usage is above 60% for 5min</name>
                            <correlation_mode>0</correlation_mode>
                            <correlation_tag/>
                            <url/>
                            <status>0</status>
                            <priority>2</priority>
                            <description/>
                            <type>0</type>
                            <manual_close>1</manual_close>
                            <dependencies/>
                            <tags/>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:memUsedPercentage[{#SNMPINDEX}].min(5m)}&gt;=80</expression>
                            <recovery_mode>1</recovery_mode>
                            <recovery_expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:memUsedPercentage[{#SNMPINDEX}].min(5m)}&lt;80</recovery_expression>
                            <name>Unit-[{#SNMPINDEX}] Memory usage is above 80% for 5min</name>
                            <correlation_mode>0</correlation_mode>
                            <correlation_tag/>
                            <url/>
                            <status>0</status>
                            <priority>4</priority>
                            <description/>
                            <type>0</type>
                            <manual_close>1</manual_close>
                            <dependencies/>
                            <tags/>
                        </trigger_prototype>
                    </trigger_prototypes>
                    <graph_prototypes/>
                    <host_prototypes/>
                </discovery_rule>
                <discovery_rule>
                    <name>Discovery: Stack Health</name>
                    <type>6</type>
                    <snmp_community/>
                    <snmp_oid>discovery[{#SNMPVALUE}, 1.3.6.1.4.1.2011.5.25.183.1.21.1.5]</snmp_oid>
                    <key>hwStackPortStatus</key>
                    <delay>60</delay>
                    <status>0</status>
                    <allowed_hosts/>
                    <snmpv3_contextname/>
                    <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                    <snmpv3_securitylevel>2</snmpv3_securitylevel>
                    <snmpv3_authprotocol>1</snmpv3_authprotocol>
                    <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                    <snmpv3_privprotocol>1</snmpv3_privprotocol>
                    <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                    <delay_flex/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port>{$SNMP_PORTNUM}</port>
                    <filter>
                        <evaltype>0</evaltype>
                        <formula/>
                        <conditions/>
                    </filter>
                    <lifetime>30</lifetime>
                    <description/>
                    <item_prototypes>
                        <item_prototype>
                            <name>Stack Cable Connectivity [$1]</name>
                            <type>6</type>
                            <snmp_community/>
                            <multiplier>0</multiplier>
                            <snmp_oid>1.3.6.1.4.1.2011.5.25.183.1.21.1.5.{#SNMPINDEX}</snmp_oid>
                            <key>hwStackPortStatus[{#SNMPINDEX}]</key>
                            <delay>60</delay>
                            <history>90</history>
                            <trends>365</trends>
                            <status>0</status>
                            <value_type>3</value_type>
                            <allowed_hosts/>
                            <units/>
                            <delta>0</delta>
                            <snmpv3_contextname/>
                            <snmpv3_securityname>{$SNMP_USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>2</snmpv3_securitylevel>
                            <snmpv3_authprotocol>1</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$SNMP_AUTHPASS}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>1</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$SNMP_PRIVPASS}</snmpv3_privpassphrase>
                            <formula>1</formula>
                            <delay_flex/>
                            <params/>
                            <ipmi_sensor/>
                            <data_type>0</data_type>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port>{$SNMP_PORTNUM}</port>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Stack</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>hwStackPortStatus</name>
                            </valuemap>
                            <logtimefmt/>
                            <application_prototypes/>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes>
                        <trigger_prototype>
                            <expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:hwStackPortStatus[{#SNMPINDEX}].last()}&lt;&gt;1</expression>
                            <recovery_mode>1</recovery_mode>
                            <recovery_expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:hwStackPortStatus[{#SNMPINDEX}].last()}=1</recovery_expression>
                            <name>Unit-[{#SNMPINDEX}] Stack link is DOWN</name>
                            <correlation_mode>0</correlation_mode>
                            <correlation_tag/>
                            <url/>
                            <status>0</status>
                            <priority>4</priority>
                            <description/>
                            <type>0</type>
                            <manual_close>1</manual_close>
                            <dependencies/>
                            <tags/>
                        </trigger_prototype>
                    </trigger_prototypes>
                    <graph_prototypes/>
                    <host_prototypes/>
                </discovery_rule>
            </discovery_rules>
            <httptests/>
            <macros/>
            <templates/>
            <screens/>
        </template>
    </templates>
    <triggers>
        <trigger>
            <expression>{Huawei_S5700-CE6800_SNMPv3_authPriv:sysUpTime.change(0)}&lt;0</expression>
            <recovery_mode>0</recovery_mode>
            <recovery_expression/>
            <name>{HOST.NAME} has just been restarted</name>
            <correlation_mode>0</correlation_mode>
            <correlation_tag/>
            <url/>
            <status>0</status>
            <priority>4</priority>
            <description/>
            <type>0</type>
            <manual_close>1</manual_close>
            <dependencies/>
            <tags/>
        </trigger>
    </triggers>
    <value_maps>
        <value_map>
            <name>hwEntityFanState</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>normal</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>abnormal</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>hwStackIsStackDevice</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>Stacked (multiple switches)</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>Standalone switch</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>hwStackPortStatus</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>UP</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>DOWN</newvalue>
                </mapping>
            </mappings>
        </value_map>
    </value_maps>
</zabbix_export>
